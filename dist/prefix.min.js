!function(global,factory){if("function"==typeof define&&define.amd)define(["exports"],factory);else if("undefined"!=typeof exports)factory(exports);else{var e={exports:{}};factory(e.exports),global.prefix=e.exports}}(this,function(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=void 0,prefix=function(t,r){if("function"!=typeof t.methodFactory)throw new TypeError("Argument is not a loglevel object");if(e=void 0===e?"function"==typeof t.getLogger:e,"function"==typeof t.getLogger){if(!e)throw new TypeError("You can assign a prefix only to child loggers")}else if(e)throw new TypeError("You can assign a prefix only to the root logger");(r=r||{}).format=r.format||"[%t] %l:",r.timestampFormatter=r.timestampFormatter||function(){return(new Date).toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")},r.levelFormatter=r.levelFormatter||function(e){return e.toUpperCase()},r.nameFormatter=r.nameFormatter||function(e){return e||"root"};var o=t.methodFactory;return t.methodFactory=function(e,t,n){var a=this,i=o(e,t,n),f=!(-1===r.format.indexOf("%t")),u=!(-1===r.format.indexOf("%l")),l=!(-1===r.format.indexOf("%n")),m=function(){return""},c=f?function(){return r.timestampFormatter()}:m,p=u?function(){return r.levelFormatter(e)}:m,s=l?function(){return r.nameFormatter(n)}:m;return function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=r.format;f&&(n=n.replace(/%t/,c())),u&&(n=n.replace(/%l/,p())),l&&(n=n.replace(/%n/,s())),t.unshift(n),i.apply(a,t)}},t.setLevel(t.getLevel()),t};exports.default=prefix});